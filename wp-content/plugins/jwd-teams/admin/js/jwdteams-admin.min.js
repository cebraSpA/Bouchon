!function(a){a(document).ready(function(){a(".jt__changeimg").live("click",function(b){b.preventDefault();var c,d=a(this).attr("data-jtcontainer");return c?void c.open():(c=wp.media.frames.memberImage=wp.media({title:jt__getTeams.imgFrameTitle,button:{text:jt__getTeams.imgBtnText},library:{type:"image"}}),c.on("select",function(){c.setState("cropper"),attachment=c.state().get("selection").first().toJSON(),a("#"+d).find("img").attr("src",attachment.url),a("#"+d).find("#jt__teams-attachment").val(attachment.url),a("#"+d).find("#jt__teams-attachmentid").val(attachment.id)}),void c.open())}),a(".jt__wrapper").sortable({placeholder:"jt__teams-highlight"}),a(".jt__remove").live("click",function(b){b.preventDefault();var c=confirm(jt__getTeams.confirmMsg);c&&a(this).parent().parent().remove()}),a(".jt__removeimg").live("click",function(b){b.preventDefault();var c=a(this).parent(),d=a(this).attr("data-avatar"),e=confirm(jt__getTeams.confirmMsg);e&&(c.find("img").attr("src",d),c.find("#jt__teams-attachment, #jt__teams-attachmentid").val(""))});var b="list_two_per_row";a(".team_settings_grid input[type=radio]").each(function(){a(this).is(":checked")&&(b=a(this).attr("id"))}),a(".team_design_v").live("click",function(){a(".list_four_per_row, .list_five_per_row").css("display","inline-block"),a(".team_settings_grid input:checkbox").removeAttr("checked"),a(".team_settings_align input:checkbox").removeAttr("checked"),a(".list_three_per_row").removeAttr("style"),a("#list_three_per_row").attr("checked","checked"),a("#team_txt_align_center").attr("checked","checked")}),a(".team_design_h").live("click",function(){a(".list_four_per_row, .list_five_per_row").css("display","none"),a(".list_three_per_row").css("border-radius","0 4px 4px 0"),a(".team_settings_grid input:checkbox").removeAttr("checked"),a(".team_settings_align input:checkbox").removeAttr("checked"),a("#team_txt_align_left").attr("checked","checked"),"list_four_per_row"==b||"list_five_per_row"==b?a("#list_two_per_row").attr("checked","checked"):a("#"+b).attr("checked","checked")}),a(".jt__tabs li").live("click",function(){var b=a(this);if(!b.hasClass("active")){var c=b.parent().parent(),d=b.index(),e=d+1;c.find(".jt__tabs li.active").removeClass("active"),b.addClass("active"),c.find(".jt__tab li.active").removeClass("active"),c.find(".jt__tab li:nth-child("+e+")").addClass("active")}}),a(".jt__color_picker").wpColorPicker(),a.fn.teamSlider=function(b,c){var d=b;if(!d)return void alert("Parameter $unit is missing for teamSlider().");var e="",f=c,g=a(this),h=g.find(".jt__slider-handle"),i=g.parent().find(".jt__slider-input");switch(e=f?f:i.val(),d){case"ch":g.slider({min:50,max:500,step:50,value:e,create:function(){h.text(e)},slide:function(a,b){h.text(b.value),i.val(b.value)}});break;default:g.slider({range:"min",min:8,max:50,value:e,create:function(){h.text(e)},slide:function(a,b){h.text(b.value),i.val(b.value)}})}},a(".jt__slider-bg").each(function(){var b=a(this).attr("data-jt_unit");a(this).teamSlider(b)}),a(".jt__resetTeamSettings").live("click",function(b){b.preventDefault();var c=a("#jwdteams_settings .jt__tab"),d=a(".resetTeamSettings_spinner"),e={action:"reset_team_settings",reset_nonce:jt__getTeams.reset_nonce},f=confirm(jt__getTeams.confirmReset);f&&(d.addClass("is-active"),a.post(jt__getTeams.ajax_url,e,function(b){a.each(b,function(b,d){var e=c.find("#"+b);switch(d.type){case"radio":e.find("input:radio").each(function(){a(this).prop("checked",!1)}),e.find("input:radio[value="+d.def+"]").prop("checked",!0),a(".list_three_per_row").removeAttr("style"),a(".list_four_per_row, .list_five_per_row").css("display","inline-block");break;case"checkbox":d.def?e.prop("checked",!0):e.prop("checked",!1);break;case"text":e.val(d.def);break;case"colorpicker":var f=e.parent().parent();d.def?f.find(".wp-color-result").css("background-color",d.def):f.find(".wp-color-result").removeAttr("style"),e.val(d.def);break;case"slider":var g=e.parent().find(".jt__slider-bg"),h=e.parent().find(".jt__slider-handle");g.teamSlider(d.unit,d.def),h.text(d.def),e.val(d.def)}}),d.removeClass("is-active"),a("#jwdteams_settings .inside").append('<div class="jt__alert jt__alert-success" role="alert">'+jt__getTeams.afterReset+"</div>")}))}),a(".jt__tab, .jt__tab .jt__slider-handle, .jt__tab .wp-picker-container").on("click",function(){a(".jt__alert").remove()})})}(jQuery);